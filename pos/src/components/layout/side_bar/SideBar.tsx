import { Link, useNavigate } from "react-router-dom"
import { useLocation } from "react-router-dom"
import { setLocalStorageItem } from "../../../utils/local_storage/localStorage"
import { useSelector } from "react-redux"
import type { RootState } from "../../../store/store"

const SideBar = () => {

  const navigate = useNavigate()
  const { pathname } = useLocation()
  const { status: socketConnected } = useSelector<RootState, { status: boolean }>(state => state.socket)

  const handleLogout = () => {
    setLocalStorageItem("user", "")
    navigate("/login")
  }

  return (
    <header className="flex flex-col gap-8 px-1 py-2 shadow-lg">
      <div className="flex flex-col items-center justify-center">
        <div className="relative">
          <span className={`absolute -right-1 top-1 w-2 h-2 ring-2 ring-white rounded-full ${socketConnected ? "bg-green-400" : "bg-red-500"}`}></span>
          <div className="w-10 h-10 rounded-full bg-blue-500 grid place-items-center">
            <p className="text-white text-md font-semibold">BK</p>
          </div>
          {/* <picture className="w-8 h-8 grid place-items-center">
            <source srcSet="/assets/logo.webp" type="image/webp" />
            <img src="/assets/logo.jpg" />
          </picture> */}
        </div>
        <div className="relative font-bold">POS</div>
      </div>
      <nav>
        <ul className="flex flex-col gap-4">
          <li className="text-[10px]">
            <Link
              to="/products"
              className={`flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md ${pathname === "/products" && "bg-zinc-100"}`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z" />
              </svg>
              Produkte
            </Link>
          </li>
          {/* <li className="relative text-[10px]">
            <Link
              to="/tables"
              className={`flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md ${pathname === "/tables" && "bg-zinc-100"}`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z" />
              </svg>
              Tische
            </Link>
          </li> */}
          <li className="relative text-[10px]">
            <Link
              to="/takeaway"
              className={`flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md ${pathname === "/takeaway" && "bg-zinc-100"}`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3" />
              </svg>
              Vorbestellt
            </Link>
          </li>
          <li className="relative text-[10px]">
            <Link
              to="/orders"
              className={`flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md ${pathname === "/orders" && "bg-zinc-100"}`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3" />
              </svg>
              Bestellungen
            </Link>
          </li>
          <li className="text-[10px]">
            <Link
              to="/reports"
              className={`flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md ${pathname === "/reports" && "bg-zinc-100"}`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z" />
              </svg>
              Rapport
            </Link>
          </li>
          <li className="relative text-[10px] flex justify-center">
            <button onClick={handleLogout} className="flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
              </svg>
              Abmelden
            </button>
          </li>
          {/* 
          <li className="text-[10px]">
            <Link
              to="/settings"
              onClick={() => setActive("/settings")}
              className={`flex flex-col items-center p-1 hover:bg-zinc-100 rounded-md ${active === "/settings" && "bg-zinc-100"}`}>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
              </svg>
              Settings
            </Link>
          </li> */}
        </ul>
      </nav>
    </header>
  )
}

export default SideBar